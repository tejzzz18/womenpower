{# templates/khelp.html #}
{% extends "base.html" %}

{% block title %}‡≤∏‡≤π‡≤æ‡≤Ø ‡≤™‡≤°‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø ‚Äî ‡≤Æ‡≤π‡≤ø‡≤≥‡≤æ ‡≤∏‡≥Å‡≤∞‡≤ï‡≥ç‡≤∑‡≤æ ‡≤®‡≥ç‡≤Ø‡≤æ‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø{% endblock %}

{% block head_extra %}
  <link rel="stylesheet" href="{{ url_for('static', filename='css/kannada-style.css') }}">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
{% endblock %}

{% block content %}
<section class="help-page container">
  <header class="help-header">
    <h1>‡≤∏‡≤π‡≤æ‡≤Ø ‡≤™‡≤°‡≥Ü‡≤Ø‡≤ø‡≤∞‡≤ø</h1>
    <p class="lead">‡≤®‡≥Ä‡≤µ‡≥Å ‡≤§‡≤ï‡≥ç‡≤∑‡≤£‡≤¶ ‡≤Ö‡≤™‡≤æ‡≤Ø‡≤¶‡≤≤‡≥ç‡≤≤‡≤ø‡≤¶‡≥ç‡≤¶‡≤∞‡≥Ü, ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤í‡≤¨‡≥ç‡≤¨ ‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤∏‡≥á‡≤µ‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø ‡≤Ö‡≤•‡≤µ‡≤æ ‡≤ï‡≥Ü‡≤≥‡≤ó‡≤ø‡≤® ‡≤∏‡≤π‡≤æ‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤¨‡≤≥‡≤∏‡≤ø.</p>
  </header>

  <!-- Emergency Quick Buttons -->
  <div class="section">
    <h2>‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤ï‡≥ç‡≤∞‡≤Æ‡≤ó‡≤≥‡≥Å</h2>
    <div class="emergency-buttons">
      <button type="button" data-tel="100" class="call-btn">üö® ‡≤™‡≥ä‡≤≤‡≥Ä‡≤∏‡≥ç ‡≤ï‡≤∞‡≥Ü (100)</button>
      <button type="button" data-tel="1091" class="call-btn">üìû ‡≤Æ‡≤π‡≤ø‡≤≥‡≤æ ‡≤∏‡≤π‡≤æ‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø (1091)</button>
      <button type="button" data-tel="181" class="call-btn">üÜò ‡≤∞‡≤æ‡≤ú‡≥ç‡≤Ø ‡≤∏‡≤π‡≤æ‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø (181)</button>
      <button type="button" data-tel="112" class="call-btn">üîî ‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø ‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å (112)</button>
    </div>
    <p class="muted">‡≤Æ‡≥ä‡≤¨‡≥à‡≤≤‡≥ç-–¥–µ–≤–∞–π—Å‡≥ç‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤á‡≤¶‡≥Å ‡≤°‡≤Ø‡≤≤‡≤∞‡≥ç ‡≤§‡≥Ü‡≤∞‡≥Ü‡≤Ø‡≥Å‡≤§‡≥ç‡≤§‡≤æ ‡≤ï‡≤∞‡≥Ü ‡≤Æ‡≤æ‡≤°‡≥Å‡≤µ ‡≤™‡≥ç‡≤∞‡≤Ø‡≤§‡≥ç‡≤® ‡≤Æ‡≤æ‡≤°‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü; ‡≤°‡≥Ü‡≤∏‡≥ç‡≤ï‡≥ç‚Äå‡≤ü‡≤æ‡≤™‡≥ç‚Äå‡≤®‡≤≤‡≥ç‡≤≤‡≤ø ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤Ö‡≤≤‡≤∞‡≥ç‡≤ü‡≥ç ‡≤Ü‡≤ó‡≤ø ‡≤§‡≥ã‡≤∞‡≤ø‡≤∏‡≥Å‡≤§‡≥ç‡≤§‡≤¶‡≥Ü.</p>
  </div>

  <!-- Helpline Numbers -->
  <div class="section helplines">
    <h2>‡≤™‡≥ç‡≤∞‡≤Æ‡≥Å‡≤ñ ‡≤∏‡≤π‡≤æ‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤ó‡≤≥‡≥Å</h2>
    <ul>
      <li>‡≤™‡≥ä‡≤≤‡≥Ä‡≤∏‡≥ç ‡≤®‡≤ø‡≤Ø‡≤Ç‡≤§‡≥ç‡≤∞‡≤£ ‡≤ï‡≥ä‡≤†‡≤°‡≤ø: <a href="tel:100">100</a></li>
      <li>‡≤Æ‡≤π‡≤ø‡≤≥‡≤æ ‡≤∏‡≤π‡≤æ‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø: <a href="tel:1091">1091</a></li>
      <li>‡≤ó‡≥É‡≤π ‡≤π‡≤ø‡≤Ç‡≤∏‡≥Ü ‡≤∏‡≤π‡≤æ‡≤Ø‡≤µ‡≤æ‡≤£‡≤ø: <a href="tel:181">181</a></li>
      <li>‡≤ö‡≥à‡≤≤‡≥ç‡≤°‡≥ç‚Äå‡≤≤‡≥à‡≤®‡≥ç: <a href="tel:1098">1098</a></li>
      <li>‡≤∞‡≤æ‡≤∑‡≥ç‡≤ü‡≥ç‡≤∞‡≥Ä‡≤Ø ‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü: <a href="tel:112">112</a></li>
    </ul>
  </div>

  <!-- Quick Contact Form -->
  <div class="section">
    <h2>‡≤§‡≤ï‡≥ç‡≤∑‡≤£ ‡≤®‡≤Æ‡≥ç‡≤Æ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≤Ç‡≤™‡≤∞‡≥ç‡≤ï‡≤ø‡≤∏‡≤ø</h2>
    <form id="kquickContact" onsubmit="handleKQuickContact(event)" class="quick-contact">
      <label for="kname" class="sr-only">‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å</label>
      <input id="kname" name="name" type="text" placeholder="‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å" required>

      <label for="kemail" class="sr-only">‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤á‡≤Æ‡≥á‡≤≤‡≥ç</label>
      <input id="kemail" name="email" type="email" placeholder="‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤á‡≤Æ‡≥á‡≤≤‡≥ç (‡≤ê‡≤ö‡≥ç‡≤õ‡≤ø‡≤ï)">

      <label for="kmsg" class="sr-only">‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≤Æ‡≤∏‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ø‡≤∏‡≤ø</label>
      <textarea id="kmsg" name="message" placeholder="‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≤Æ‡≤∏‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤µ‡≤ø‡≤µ‡≤∞‡≤ø‡≤∏‡≤ø..." required rows="5"></textarea>

      <div class="form-actions">
        <button type="submit" class="primary-btn">‡≤ï‡≤≥‡≥Å‡≤π‡≤ø‡≤∏‡≤ø</button>
      </div>
    </form>
    <p class="muted">‡≤à ‡≤´‡≤æ‡≤∞‡≥ç‡≤Æ‡≥ç ‡≤§‡≤æ‡≤§‡≥ç‡≤ï‡≤æ‡≤≤‡≤ø‡≤ï ‡≤µ‡≤∞‡≤¶‡≤ø ‡≤Æ‡≤æ‡≤§‡≥ç‡≤∞ ‚Äî ‡≤§‡≤ï‡≥ç‡≤∑‡≤£ ‡≤∏‡≤π‡≤æ‡≤Ø‡≤ï‡≥ç‡≤ï‡≥Ü, ‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤Æ‡≥á‡≤≤‡≤ø‡≤® ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤Ø‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø.</p>
  </div>
</section>
{% endblock %}

{% block scripts %}
<script>
  // Try to open phone dialer on mobile, fallback to alert on desktop
  document.querySelectorAll('.call-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const number = btn.dataset.tel;
      // Try tel: protocol
      window.location.href = 'tel:' + number;
      // Fallback after a short delay for desktops
      setTimeout(() => {
        if (!/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent)) {
          alert('‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø: ' + number);
        }
      }, 500);
    });
  });

  // Simple client-side handler for the quick contact form
  function handleKQuickContact(e) {
    e.preventDefault();
    const name = document.getElementById('kname').value.trim();
    const email = document.getElementById('kemail').value.trim();
    const msg = document.getElementById('kmsg').value.trim();

    if (!name || !msg) {
      alert('‡≤¶‡≤Ø‡≤µ‡≤ø‡≤ü‡≥ç‡≤ü‡≥Å ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤π‡≥Ü‡≤∏‡≤∞‡≥Å ‡≤Æ‡≤§‡≥ç‡≤§‡≥Å ‡≤∏‡≤Ç‡≤¶‡≥á‡≤∂ ‡≤®‡≤Æ‡≥Ç‡≤¶‡≤ø‡≤∏‡≤ø.');
      return;
    }

    // TODO: Replace with real POST to backend when ready
    alert('‡≤ß‡≤®‡≥ç‡≤Ø‡≤µ‡≤æ‡≤¶‡≤ó‡≤≥‡≥Å, ' + name + ' ‚Äî ‡≤®‡≤ø‡≤Æ‡≥ç‡≤Æ ‡≤∏‡≤Ç‡≤¶‡≥á‡≤∂‡≤µ‡≤®‡≥ç‡≤®‡≥Å ‡≤∏‡≥ç‡≤µ‡≥Ä‡≤ï‡≤∞‡≤ø‡≤∏‡≤≤‡≤æ‡≤ó‡≤ø‡≤¶‡≥Ü. ‡≤§‡≥Å‡≤∞‡≥ç‡≤§‡≥Å ‡≤∏‡≤Ç‡≤¶‡≤∞‡≥ç‡≤≠‡≤ó‡≤≥‡≤≤‡≥ç‡≤≤‡≤ø ‡≤Æ‡≥á‡≤≤‡≤ø‡≤® ‡≤¶‡≥Ç‡≤∞‡≤µ‡≤æ‡≤£‡≤ø ‡≤∏‡≤Ç‡≤ñ‡≥ç‡≤Ø‡≥Ü‡≤ó‡≤≥‡≤®‡≥ç‡≤®‡≥Å ‡≤ï‡≤∞‡≥Ü‡≤Æ‡≤æ‡≤°‡≤ø.');
    e.target.reset();
  }
</script>
{% endblock %}
